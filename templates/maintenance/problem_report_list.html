{% extends "base.html" %}
{% load core_extras %}
{% block title %}Problem Reports Â· {{ block.super }}{% endblock %}
{% block content %}
  <h2>Problem Reports</h2>
  {% if reports %}
    <ul class="list machine-list problem-report-list">
      {% for report in reports %}
        <li
          class="machine-card js-clickable-card"
          data-url="{% url 'problem-report-detail' report.pk %}"
          tabindex="0"
          role="button"
          aria-label="View problem report for {{ report.machine.display_name }}"
        >
          <div class="machine-card__row">
            <div class="machine-card__row-left">
              <span class="machine-card__name">{{ report.machine.display_name }}</span>
            </div>
            <div class="machine-card__meta-group">
              <span class="machine-card__timestamp">{{ report.created_at|smart_date }}</span>
              <span class="badge badge-status badge-status--{{ report.status }}">
                {{ report.get_status_display }}
              </span>
            </div>
          </div>
          <div class="machine-card__problem">
            {% if report.problem_type != report.PROBLEM_OTHER %}
              <span class="machine-card__problem-label">{{ report.get_problem_type_display }}:</span>
            {% endif %}
            {{ report.description|default:"No description provided." }}
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No reports yet.</p>
  {% endif %}
{% endblock %}
