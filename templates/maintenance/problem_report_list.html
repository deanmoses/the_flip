{% extends "maintenance/global_list_base.html" %}
{% load static core_extras %}
{% block list_title %}Problem Reports{% endblock %}
{% block mobile_actions %}
  <a href="{% url 'problem-report-create' %}" class="btn btn--report">
    {% icon "plus" class="meta" %}
    New Report
  </a>
{% endblock %}
{% block sidebar_stats %}
  <div class="sidebar__label">Problem Reports</div>
  {% stat_grid stats=stats %}
{% endblock %}
{% block sidebar_actions %}
  <a href="{% url 'problem-report-create' %}"
     class="btn btn--report btn--full">
    {% icon "plus" class="meta" %}
    New Problem Report
  </a>
{% endblock %}
{% block infinite_scroll_url %}
  {% url 'problem-report-list-entries' %}
{% endblock %}
{% block list_content %}
  {% if reports %}
    {% timeline id="log-list" %}
    {% for entry in reports %}
      {% include "maintenance/partials/global_problem_report_entry.html" with entry=entry %}
    {% endfor %}
  {% endtimeline %}
  <div id="log-pagination"
       data-next-page="{% if page_obj.has_next %}{{ page_obj.next_page_number }}{% else %}0{% endif %}"></div>
{% else %}
  <p class="text-muted">
    {% if search_form.q.value %}
      No problem reports match your search.
    {% else %}
      No problem reports yet.
    {% endif %}
  </p>
{% endif %}
{% endblock %}
