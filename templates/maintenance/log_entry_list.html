{% extends "maintenance/global_list_base.html" %}
{% load static core_extras %}
{% block list_title %}Logs{% endblock %}
{% block mobile_actions %}
  <a href="{% url 'log-create-global' %}" class="btn btn--log">
    {% icon "plus" class="meta" %}
    New Log
  </a>
{% endblock %}
{% block sidebar_stats %}
  <div class="sidebar__label">Log Entries</div>
  <div class="stat-grid">
    <div class="stat">
      <span class="stat__value">{{ this_week_count }}</span>
      <span class="stat__label">This Week</span>
    </div>
    <div class="stat">
      <span class="stat__value">{{ total_count }}</span>
      <span class="stat__label">Total</span>
    </div>
  </div>
{% endblock %}
{% block sidebar_actions %}
  <a href="{% url 'log-create-global' %}" class="btn btn--log btn--full">
    {% icon "plus" class="meta" %}
    New Log Entry
  </a>
{% endblock %}
{% block infinite_scroll_url %}
  {% url 'log-list-entries' %}
{% endblock %}
{% block list_content %}
  {% if log_entries %}
    <div class="timeline">
      <div class="timeline__line"></div>
      <div id="log-list">
        {% for entry in log_entries %}
          {% include "maintenance/partials/global_log_entry.html" with entry=entry %}
        {% endfor %}
      </div>
    </div>
    <div id="log-pagination"
         data-next-page="{% if page_obj.has_next %}{{ page_obj.next_page_number }}{% else %}0{% endif %}"></div>
  {% else %}
    <p class="text-muted">
      {% if search_form.q.value %}
        No log entries match your search.
      {% else %}
        No log entries yet.
      {% endif %}
    </p>
  {% endif %}
{% endblock %}
