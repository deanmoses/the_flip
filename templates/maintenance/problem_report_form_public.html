{% extends "base_public_minimal.html" %}
{% load core_extras %}
{% block title %}Report a Problem with {{ machine.display_name }} Â· {{ block.super }}{% endblock %}
{% block content %}
  <div class="card card--padded">
    <h2 class="space-below-md">Report a Problem with {{ machine.display_name }}</h2>
    <form method="post" class="form-main">
      {% csrf_token %}
      {% form_non_field_errors form %}
      <div class="form-field">
        <label class="form-label">What's wrong?</label>
        <div class="radio-group">
          {% for value, label in form.problem_type.field.choices %}
            <label class="radio-label">
              <input type="radio"
                     name="{{ form.problem_type.html_name }}"
                     value="{{ value }}"
                     {% if value == form.problem_type.value or forloop.first and not form.problem_type.value %}checked{% endif %}>
              {{ label }}
            </label>
          {% endfor %}
        </div>
        {% field_errors form.problem_type %}
      </div>
      <div class="form-field">
        <label for="{{ form.description.id_for_label }}" class="form-label">
          Details <span class="text-muted text-xs">(optional)</span>
        </label>
        <textarea id="{{ form.description.id_for_label }}"
                  name="{{ form.description.html_name }}"
                  class="form-input form-textarea"
                  placeholder="Any additional details..."
                  rows="3">{{ form.description.value|default:'' }}</textarea>
        {% field_errors form.description %}
      </div>
      <div class="form-actions">
        <button type="submit" class="btn btn--primary btn--full">Submit Report</button>
      </div>
    </form>
  </div>
{% endblock %}
