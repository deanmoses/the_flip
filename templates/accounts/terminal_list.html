{% extends "layouts/two_column.html" %}
{% load static core_extras %}
{% block title %}Shared Terminals Â· {{ block.super }}{% endblock %}
{% block breadcrumbs %}<span>Shared Terminal Accounts</span>{% endblock %}
{% block mobile_actions %}
  <a href="{% url 'terminal-add' %}" class="btn btn--secondary">
    {% icon "plus" class="meta" %}
    Add Terminal
  </a>
{% endblock %}
{% block sidebar %}
  {% sidebar_section label="Shared Terminal Accounts" %}
  <p class="text-muted text-sm">These user accounts are for shared machines, like in the workshop or floor.</p>
  <p class="text-muted text-sm">
    When the system is logged in as a shared account, it requires the user to specify a name when logging work and reporting problems.
  </p>
{% endsidebar_section %}
{% sidebar_section %}
<a href="{% url 'terminal-add' %}" class="btn btn--secondary btn--full">
  {% icon "plus" class="meta" %}
  Add Terminal
</a>
{% endsidebar_section %}
{% endblock %}
{% block main %}
  {% if terminals %}
    <div class="terminal-list">
      {% for terminal in terminals %}
        <div class="terminal-card">
          <div class="terminal-card__info">
            <a href="{% url 'terminal-edit' terminal.pk %}"
               class="terminal-card__name">{{ terminal.display_name }}</a>
            {% if not terminal.user.is_active %}
              {% pill label="Deactivated" variant="neutral" %}
            {% endif %}
          </div>
          <div class="terminal-card__actions">
            <a href="{% url 'terminal-edit' terminal.pk %}"
               class="btn btn--secondary btn--sm">Edit</a>
            {% if terminal.user.is_active %}
              <form method="post" action="{% url 'terminal-login' terminal.pk %}">
                {% csrf_token %}
                <button type="submit" class="btn btn--primary btn--sm">Login</button>
              </form>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-muted">No shared terminal accounts yet.</p>
  {% endif %}
{% endblock %}
