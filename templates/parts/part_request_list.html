{% extends "maintenance/global_list_base.html" %}
{% load static %}
{% load list_tags %}
{% block list_title %}Parts Requests{% endblock %}
{% block mobile_actions %}
  {% if user.is_authenticated %}
    <a href="{% url 'part-request-create' %}" class="btn btn--log">Request a Part</a>
  {% endif %}
{% endblock %}
{% block sidebar_stats %}
  <div class="sidebar__label">Parts Requests</div>
  {% stat_grid stats=stats %}
{% endblock %}
{% block sidebar_actions %}
  {% if user.is_authenticated %}
    <a href="{% url 'part-request-create' %}" class="btn btn--log btn--full">Request a Part</a>
  {% endif %}
{% endblock %}
{% block infinite_scroll_url %}
  {% url 'part-request-list-entries' %}
{% endblock %}
{% block list_content %}
  {% if part_requests %}
    {% timeline id="log-list" %}
    {% for entry in part_requests %}
      {% include "parts/partials/part_list_entry.html" with entry=entry %}
    {% endfor %}
  {% endtimeline %}
  <div id="log-pagination"
       data-next-page="{% if page_obj.has_next %}{{ page_obj.next_page_number }}{% else %}0{% endif %}"></div>
{% else %}
  <p class="text-muted">
    {% if search_form.q.value %}
      No part requests match your search.
    {% else %}
      No part requests yet.
    {% endif %}
  </p>
{% endif %}
{% endblock %}
